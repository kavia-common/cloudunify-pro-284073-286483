{"is_source_file": true, "format": "Python", "description": "This file contains environment configuration logic for a FastAPI backend, including environment variable parsing, URL normalization, and database connection discovery.", "external_files": ["os", "re", "glob", "pathlib.Path", "dataclasses.dataclass", "typing.List", "typing.Optional", "typing.Union"], "external_methods": ["os.getenv", "Path.is_file", "Path.read_text", "Path.resolve", "Path.glob", "glob.glob"], "published": ["Settings"], "classes": [{"name": "Settings", "description": "Configuration class that loads environment variables for the FastAPI app, including database URL, CORS origins, server settings, and other environment-driven configuration."}], "methods": [{"name": "bool _parse_bool(value: Optional[str])", "description": "Safely parses a string environment value into a boolean.", "scope": "", "scopeKind": ""}, {"name": "List[str] _default_frontend_origin()", "description": "Determines default frontend origin with a specific priority order or falls back to localhost.", "scope": "", "scopeKind": ""}, {"name": "Union[str,List[str]] _parse_cors_origins(raw: Optional[str])", "description": "Parses CORS origins from environment variables, handling wildcard and comma-separated lists.", "scope": "", "scopeKind": ""}, {"name": "\"Settings\" load()", "description": "Class method to load configuration from environment variables and files, producing a Settings instance.", "scope": "Settings", "scopeKind": "class"}, {"name": "str _ensure_async_driver(url: str)", "description": "Modifies a PostgreSQL URL to ensure it uses the asyncpg driver.", "scope": "Settings", "scopeKind": "class"}, {"name": "Optional[str] _extract_postgres_url(text: str)", "description": "Extracts a PostgreSQL URL from text using regex or token analysis.", "scope": "Settings", "scopeKind": "class"}, {"name": "Optional[str] _read_db_url_from_connection_file()", "description": "Attempts to locate and read a database connection URL from various file locations or via glob search.", "scope": "Settings", "scopeKind": "class"}], "calls": ["os.getenv", "Path.is_file", "Path.read_text", "Path.resolve", "glob.glob", "Settings._extract_postgres_url"], "search-terms": ["config", "environment", "PostgreSQL URL", "asyncpg", "database connection file", "CORS origins", "FastAPI settings", "load environment settings"], "state": 2, "file_id": 37, "knowledge_revision": 188, "git_revision": "410c3ab68418ab11506851e056c9ae154e7493b4", "revision_history": [{"140": ""}, {"165": "88d5dbbb75c54c203f82bc561cbd513102bc70d1"}, {"168": "88d5dbbb75c54c203f82bc561cbd513102bc70d1"}, {"188": "410c3ab68418ab11506851e056c9ae154e7493b4"}], "ctags": [{"_type": "tag", "name": "Settings", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/fastapi_app/app/core/config.py", "pattern": "/^class Settings:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_default_frontend_origin", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/fastapi_app/app/core/config.py", "pattern": "/^def _default_frontend_origin() -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_ensure_async_driver", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/fastapi_app/app/core/config.py", "pattern": "/^    def _ensure_async_driver(url: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(url: str)", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "_extract_postgres_url", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/fastapi_app/app/core/config.py", "pattern": "/^    def _extract_postgres_url(text: str) -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "member", "signature": "(text: str)", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "_parse_bool", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/fastapi_app/app/core/config.py", "pattern": "/^def _parse_bool(value: Optional[str]) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(value: Optional[str])"}, {"_type": "tag", "name": "_parse_cors_origins", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/fastapi_app/app/core/config.py", "pattern": "/^def _parse_cors_origins(raw: Optional[str]) -> Union[str, List[str]]:$/", "language": "Python", "typeref": "typename:Union[str,List[str]]", "kind": "function", "signature": "(raw: Optional[str])"}, {"_type": "tag", "name": "_read_db_url_from_connection_file", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/fastapi_app/app/core/config.py", "pattern": "/^    def _read_db_url_from_connection_file() -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "member", "signature": "()", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "load", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/fastapi_app/app/core/config.py", "pattern": "/^    def load() -> \"Settings\":$/", "language": "Python", "typeref": "typename:\"Settings\"", "kind": "member", "signature": "()", "scope": "Settings", "scopeKind": "class"}], "hash": "66989431444cac88facb6f643603c8ac", "format-version": 4, "code-base-name": "Backend", "filename": "Backend/fastapi_app/app/core/config.py"}