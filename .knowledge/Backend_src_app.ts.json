{"is_source_file": true, "format": "TypeScript", "description": "This file initializes and configures an Express web server, setting middleware for security, logging, CORS, and API documentation serving. It also handles routing, error handling, and dynamic server URL configuration for Swagger UI.", "external_files": ["../swagger", "./routes", "cors", "helmet", "swagger-ui-express", "pino-http"], "external_methods": ["cors()", "helmet()", "swaggerUi.serve", "swaggerUi.setup", "express.json()", "app.use()", "app.set()", "pinoHttp()"], "published": ["app"], "classes": [], "methods": [{"name": "function parseCorsOrigins(): string | string[] { parseCorsOrigins", "description": "Parses the CORS_ORIGIN environment variable to determine the allowed origins for CORS configuration.", "scope": "", "scopeKind": ""}], "calls": ["cors()", "helmet()", "swaggerUi.serve", "swaggerUi.setup", "express.json()", "app.use()", "app.set()", "app.get()"], "search-terms": ["Express app initialization", "CORS configuration", "Swagger UI route", "security headers", "error handler", "dynamic server URL"], "state": 2, "file_id": 19, "knowledge_revision": 132, "git_revision": "fcb3e629d62620a9e8a69160b93132b4d0a30e24", "revision_history": [{"45": ""}, {"73": "89153a15f16bbcd5b34bfe38ab3128e6c32d8819"}, {"91": "dba4240178822cb1fce1c0a7a0aa20147e9b5078"}, {"96": "0fa493e40002eee8e7b9180afc1dda3ec85d9dec"}, {"132": "fcb3e629d62620a9e8a69160b93132b4d0a30e24"}], "ctags": [{"_type": "tag", "name": "actualPort", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const actualPort = (req.socket as any)?.localPort as number | undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^const app: Application = express();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "dynamicSpec", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const dynamicSpec: any = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "fullHost", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const fullHost = needsPort ? `${host}:${actualPort}` : host;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "hasPort", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const hasPort = host.includes(':');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const host = req.get('host') || '';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "needsPort", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const needsPort =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "parseCorsOrigins", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^function parseCorsOrigins(): string | string[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "pinoHttp", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^const pinoHttp = require('pino-http');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "previewMode", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^const previewMode: boolean = (process.env.PREVIEW_MODE || '').toLowerCase() === 'true';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "protocol", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  let protocol = req.protocol;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const raw = process.env.CORS_ORIGIN || '*';$/", "language": "TypeScript", "kind": "constant", "scope": "parseCorsOrigins", "scopeKind": "function"}], "hash": "62f1521dc1eb5f4e972c6e61d743feb8", "format-version": 4, "code-base-name": "Backend", "filename": "Backend/src/app.ts", "fields": [{"name": "let protocol = req.protocol;", "scope": "", "scopeKind": "", "description": "unavailable"}]}