{"is_source_file": true, "format": "TypeScript", "description": "Express application initialization script that sets up middleware, security, routing, and API documentation endpoints for a cloud backend service.", "external_files": ["../swagger", "./routes"], "external_methods": ["swaggerUi.serve", "swaggerUi.setup"], "published": ["app"], "classes": [], "methods": [{"name": "function parseCorsOrigins(): string | string[] { parseCorsOrigins", "description": "Parses the CORS origins from environment variables, returning either a string '*' or an array of string origins.", "scope": "", "scopeKind": ""}], "calls": ["cors", "express", "helmet", "pinoHttp", "req.get", "req.socket", "swaggerUi.serve", "swaggerUi.setup", "res.json", "app.use", "console.error"], "search-terms": ["Express app setup", "CORS configuration", "Swagger UI dynamic setup", "Error handling middleware", "TypeScript Express"], "state": 2, "file_id": 19, "knowledge_revision": 73, "git_revision": "89153a15f16bbcd5b34bfe38ab3128e6c32d8819", "revision_history": [{"45": ""}, {"73": "89153a15f16bbcd5b34bfe38ab3128e6c32d8819"}], "ctags": [{"_type": "tag", "name": "actualPort", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const actualPort = (req.socket as any)?.localPort as number | undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^const app: Application = express();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "dynamicSpec", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const dynamicSpec: any = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "fullHost", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const fullHost = needsPort ? `${host}:${actualPort}` : host;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "hasPort", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const hasPort = host.includes(':');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const host = req.get('host') || '';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "needsPort", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const needsPort =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "parseCorsOrigins", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^function parseCorsOrigins(): string | string[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "pinoHttp", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^const pinoHttp = require('pino-http');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "protocol", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  let protocol = req.protocol;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286483/Backend/src/app.ts", "pattern": "/^  const raw = process.env.CORS_ORIGIN || '*';$/", "language": "TypeScript", "kind": "constant", "scope": "parseCorsOrigins", "scopeKind": "function"}], "hash": "239cad7f2e6729d49300ed41233b872c", "format-version": 4, "code-base-name": "Backend", "filename": "Backend/src/app.ts", "fields": [{"name": "let protocol = req.protocol;", "scope": "", "scopeKind": "", "description": "unavailable"}]}